function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"03qU":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var o=r("3Pt+"),i=r("fXoL"),n=r("tXMI"),a=r("ofXK"),s=r("kmnG"),u=r("qFsG"),c=r("ihCf"),l=r("d3UM"),m=r("bTqV"),f=r("FKr1");function b(e,t){1&e&&(i.Qb(0,"mat-form-field",2),i.Qb(1,"mat-label"),i.uc(2,"Joke ID"),i.Pb(),i.Mb(3,"input",12),i.Pb())}function d(e,t){1&e&&(i.Qb(0,"mat-error"),i.uc(1,"You must enter a value"),i.Pb())}function g(e,t){if(1&e&&(i.Qb(0,"span",13),i.uc(1),i.Pb()),2&e){var r=i.bc();i.zb(1),i.xc(" (+",r.form.get("categories").value.length-1," ",2===(null==r.form.get("categories").value?null:r.form.get("categories").value.length)?"other":"others",") ")}}function h(e,t){if(1&e&&(i.Qb(0,"mat-option",14),i.uc(1),i.Pb()),2&e){var r=t.$implicit;i.gc("value",r.title),i.zb(1),i.vc(r.title)}}var p=function(){var e=function(){function e(t,r){_classCallCheck(this,e),this.formBuilder=t,this.jokesService=r,this.submitForm=new i.n}return _createClass(e,[{key:"ngOnInit",value:function(){this._getCategories(),this._initForm(this.jokeModel)}},{key:"_getCategories",value:function(){var e=this;this.jokesService.getCategories().subscribe((function(t){e.categories=t,e.jokesService.changeCategories(t)}))}},{key:"_initForm",value:function(e){if(this.form=this.formBuilder.group({value:[e.value,[o.n.required,o.n.minLength(3)]],url:[e.url,o.n.minLength(5)],iconUrl:[e.iconUrl,o.n.minLength(5)],categories:[e.categories?e.categories.map((function(e){return e.title})):null]}),this.updateJokeMode){var t=new o.c({value:e.id,disabled:!0},[o.n.required,o.n.min(1)]);this.form.addControl("id",t)}}},{key:"onSubmit",value:function(){this.form.valid&&this.submitForm.emit(this.form.getRawValue())}},{key:"joke",get:function(){return this.jokeModel},set:function(e){this.jokeModel=e,this.jokeModel&&this.jokeModel.id&&this.form.patchValue(this.jokeModel)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Lb(o.b),i.Lb(n.a))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-modify-joke-form"]],inputs:{updateJokeMode:"updateJokeMode",joke:"joke"},outputs:{submitForm:"submitForm"},decls:26,vars:7,consts:[[1,"form-modify",3,"formGroup","ngSubmit"],["class","form__field",4,"ngIf"],[1,"form__field"],["matInput","","placeholder","Chuck Norris...","formControlName","value","cdkTextareaAutosize","","cdkAutosizeMinRows","2","cdkAutosizeMaxRows","10"],[4,"ngIf"],["matInput","","placeholder","https://...","value","Some url...","formControlName","url"],["matInput","","placeholder","https://...","value","Some url...","formControlName","iconUrl"],["formControlName","categories","multiple",""],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"form__field","form__field_center"],["mat-raised-button","","color","primary","type","submit"],["matInput","","type","number","placeholder","0","value","id","formControlName","id"],[1,"example-additional-selection"],[3,"value"]],template:function(e,t){1&e&&(i.Qb(0,"form",0),i.Xb("ngSubmit",(function(){return t.onSubmit()})),i.sc(1,b,4,0,"mat-form-field",1),i.Qb(2,"mat-form-field",2),i.Qb(3,"mat-label"),i.uc(4,"Joke message"),i.Pb(),i.Mb(5,"textarea",3),i.sc(6,d,2,0,"mat-error",4),i.Pb(),i.Qb(7,"mat-form-field",2),i.Qb(8,"mat-label"),i.uc(9,"Joke url"),i.Pb(),i.Mb(10,"input",5),i.Pb(),i.Qb(11,"mat-form-field",2),i.Qb(12,"mat-label"),i.uc(13,"Icon url"),i.Pb(),i.Mb(14,"input",6),i.Pb(),i.Qb(15,"mat-form-field"),i.Qb(16,"mat-label"),i.uc(17,"Categories"),i.Pb(),i.Qb(18,"mat-select",7),i.Qb(19,"mat-select-trigger"),i.uc(20),i.sc(21,g,2,2,"span",8),i.Pb(),i.sc(22,h,2,2,"mat-option",9),i.Pb(),i.Pb(),i.Qb(23,"div",10),i.Qb(24,"button",11),i.uc(25),i.Pb(),i.Pb(),i.Pb()),2&e&&(i.gc("formGroup",t.form),i.zb(1),i.gc("ngIf",t.updateJokeMode),i.zb(5),i.gc("ngIf",t.form.get("value").invalid),i.zb(14),i.wc(" ",t.form.get("categories").value?t.form.get("categories").value[0]:""," "),i.zb(1),i.gc("ngIf",(null==t.form.get("categories").value?null:t.form.get("categories").value.length)>1),i.zb(1),i.gc("ngForOf",t.categories),i.zb(3),i.wc(" ",t.updateJokeMode?"Update Joke":"Create Joke"," "))},directives:[o.o,o.i,o.e,a.k,s.c,s.f,u.a,o.a,c.b,o.h,o.d,l.a,l.c,a.j,m.a,o.k,s.b,f.g],styles:[".form-modify[_ngcontent-%COMP%]{padding:0 20px}.form__field[_ngcontent-%COMP%]{width:100%}.form__field_center[_ngcontent-%COMP%]{text-align:center}mat-option[_ngcontent-%COMP%], mat-select-trigger[_ngcontent-%COMP%]{text-transform:capitalize}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}"]}),e}()},B0sx:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var o=r("KJJU"),i=r("3Pt+"),n=r("fXoL"),a=r("ofXK"),s=r("kmnG"),u=r("qFsG"),c=r("bTqV"),l=r("NFeN"),m=r("d3UM"),f=r("FKr1");function b(e,t){1&e&&(n.Qb(0,"mat-error"),n.uc(1," Name should be more than 2 symbols "),n.Pb())}function d(e,t){1&e&&(n.Qb(0,"mat-error"),n.uc(1," Name is "),n.Qb(2,"strong"),n.uc(3,"required"),n.Pb(),n.Pb())}function g(e,t){if(1&e&&(n.Qb(0,"mat-form-field",2),n.Qb(1,"mat-label"),n.uc(2,"First Name"),n.Pb(),n.Mb(3,"input",10),n.sc(4,b,2,0,"mat-error",4),n.sc(5,d,4,0,"mat-error",4),n.Pb()),2&e){var r=n.bc();n.zb(4),n.gc("ngIf",r.form.get("firstName").hasError("minlength")&&!r.form.get("firstName").hasError("required")),n.zb(1),n.gc("ngIf",r.form.get("firstName").hasError("required"))}}function h(e,t){1&e&&(n.Qb(0,"mat-form-field",2),n.Qb(1,"mat-label"),n.uc(2,"Last Name"),n.Pb(),n.Mb(3,"input",11),n.Pb())}function p(e,t){1&e&&(n.Qb(0,"mat-error"),n.uc(1," Please enter a valid email address "),n.Pb())}function v(e,t){1&e&&(n.Qb(0,"mat-error"),n.uc(1," Email is "),n.Qb(2,"strong"),n.uc(3,"required"),n.Pb(),n.Pb())}function P(e,t){1&e&&(n.Qb(0,"mat-error"),n.uc(1," Password must be more than 6 symbols "),n.Pb())}function k(e,t){1&e&&(n.Qb(0,"mat-error"),n.uc(1," Password is "),n.Qb(2,"strong"),n.uc(3,"required"),n.Pb(),n.Pb())}function C(e,t){if(1&e&&(n.Qb(0,"mat-form-field",2),n.Qb(1,"mat-label"),n.uc(2,"Roles"),n.Pb(),n.Qb(3,"mat-select",12),n.Qb(4,"mat-option",13),n.uc(5),n.Pb(),n.Pb(),n.Pb()),2&e){var r=n.bc();n.zb(4),n.gc("value",r.role.SUPERADMIN),n.zb(1),n.vc(r.role.SUPERADMIN)}}function w(e,t){1&e&&(n.Qb(0,"button",14),n.uc(1,"Register"),n.Pb())}function y(e,t){1&e&&(n.Qb(0,"button",14),n.uc(1,"Login"),n.Pb())}var _=function(){var e=function(){function e(t){_classCallCheck(this,e),this.formBuilder=t,this.role=o.a,this.hidePassword=!0,this.submitForm=new n.n}return _createClass(e,[{key:"ngOnInit",value:function(){this._initForm()}},{key:"_initForm",value:function(){this.form=this.formBuilder.group({email:["",[i.n.required,i.n.email]],password:["",[i.n.required,i.n.minLength(6)]]}),this.isRegisterMode&&(this.form.addControl("firstName",new i.c("",[i.n.required,i.n.minLength(2)])),this.form.addControl("lastName",new i.c("",[i.n.minLength(2)])),this.form.addControl("roles",new i.c(null)))}},{key:"onSubmit",value:function(){this.form.valid&&(this.form.value.roles&&(this.form.value.roles=[this.form.value.roles]),this.submitForm.emit(this.form.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.Lb(i.b))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-auth-form"]],inputs:{isRegisterMode:"isRegisterMode"},outputs:{submitForm:"submitForm"},decls:22,vars:14,consts:[[1,"form",3,"formGroup","ngSubmit"],["class","form_full-width",4,"ngIf"],[1,"form_full-width"],["matInput","","placeholder","test@example.com","type","email","formControlName","email"],[4,"ngIf"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["id","password-icon"],[1,"form_full-width","form_center"],["mat-raised-button","","color","primary","type","submit",4,"ngIf"],["matInput","","placeholder","Ex. Max","type","text","formControlName","firstName"],["matInput","","placeholder","Ex. Sinyuk","type","text","formControlName","lastName"],["formControlName","roles"],[3,"value"],["mat-raised-button","","color","primary","type","submit"]],template:function(e,t){1&e&&(n.Qb(0,"form",0),n.Xb("ngSubmit",(function(){return t.onSubmit()})),n.sc(1,g,6,2,"mat-form-field",1),n.sc(2,h,4,0,"mat-form-field",1),n.Qb(3,"mat-form-field",2),n.Qb(4,"mat-label"),n.uc(5,"Email"),n.Pb(),n.Mb(6,"input",3),n.sc(7,p,2,0,"mat-error",4),n.sc(8,v,4,0,"mat-error",4),n.Pb(),n.Qb(9,"mat-form-field",2),n.Qb(10,"mat-label"),n.uc(11,"Password"),n.Pb(),n.Mb(12,"input",5),n.Qb(13,"button",6),n.Xb("click",(function(){return t.hidePassword=!t.hidePassword})),n.Qb(14,"mat-icon",7),n.uc(15),n.Pb(),n.Pb(),n.sc(16,P,2,0,"mat-error",4),n.sc(17,k,4,0,"mat-error",4),n.Pb(),n.sc(18,C,6,2,"mat-form-field",1),n.Qb(19,"div",8),n.sc(20,w,2,0,"button",9),n.sc(21,y,2,0,"button",9),n.Pb(),n.Pb()),2&e&&(n.gc("formGroup",t.form),n.zb(1),n.gc("ngIf",t.isRegisterMode),n.zb(1),n.gc("ngIf",t.isRegisterMode),n.zb(5),n.gc("ngIf",t.form.get("email").hasError("email")&&!t.form.get("email").hasError("required")),n.zb(1),n.gc("ngIf",t.form.get("email").hasError("required")),n.zb(4),n.gc("type",t.hidePassword?"password":"text"),n.zb(1),n.Ab("aria-label","Hide password")("aria-pressed",t.hidePassword),n.zb(2),n.vc(t.hidePassword?"visibility_off":"visibility"),n.zb(1),n.gc("ngIf",t.form.get("password").hasError("minlength")&&!t.form.get("password").hasError("required")),n.zb(1),n.gc("ngIf",t.form.get("password").hasError("required")),n.zb(1),n.gc("ngIf",t.isRegisterMode),n.zb(2),n.gc("ngIf",t.isRegisterMode),n.zb(1),n.gc("ngIf",!t.isRegisterMode))},directives:[i.o,i.i,i.e,a.k,s.c,s.f,u.a,i.a,i.h,i.d,c.a,s.g,l.a,s.b,m.a,f.g],styles:["#password-icon[_ngcontent-%COMP%]{font-size:1.7em}"]}),e}()},LjFu:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var o=r("fXoL"),i=r("tyNb"),n=r("IYfF"),a=function(){var e=function(){function e(t,r){_classCallCheck(this,e),this.router=t,this.authService=r}return _createClass(e,[{key:"canActivate",value:function(e,t){var r=this.authService.currentUserValue;return r?!e.data.roles||-1!==e.data.roles.indexOf(r.user.roles[0])||(this.router.navigate(["/"]),!1):(this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Ub(i.b),o.Ub(n.a))},e.\u0275prov=o.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},NDq2:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var o=function e(){_classCallCheck(this,e)}},YllP:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("PCNd"),i=r("fXoL"),n=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},imports:[[o.a]]}),e}()},qI1e:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("PCNd"),i=r("fXoL"),n=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},imports:[[o.a]]}),e}()}}]);