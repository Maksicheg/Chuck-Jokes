(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{PJ6i:function(e,t,r){"use strict";r.r(t),r.d(t,"ModifyCategoriesModule",(function(){return q}));var o=r("PCNd"),i=r("fXoL");let a=(()=>{class e{}return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},imports:[[o.a]]}),e})();var n=r("LjFu"),s=r("tyNb"),c=r("tXMI"),b=r("/t3+"),u=r("bTqV"),m=r("Wp6s"),l=r("wZkO"),f=r("ofXK"),d=r("3Pt+"),g=r("kmnG"),p=r("qFsG"),h=r("eIep"),y=r("lJxs"),P=r("PqYM");let C=(()=>{class e{constructor(e){this.jokesService=e}validate(e){return Object(P.a)(500).pipe(Object(h.a)(()=>this.jokesService.checkExistCategories(e.value).pipe(Object(y.a)(e=>e?{existingCategories:!0}:null))))}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(c.a))},e.\u0275dir=i.Gb({type:e,selectors:[["","appExistingCategory",""]],features:[i.yb([{provide:d.f,useExisting:e,multi:!0}])]}),e})();function Q(e,t){1&e&&(i.Qb(0,"mat-error"),i.uc(1," There is such "),i.Qb(2,"strong"),i.uc(3,"category"),i.Pb(),i.Pb())}function v(e,t){1&e&&(i.Qb(0,"mat-error"),i.uc(1," Title is "),i.Qb(2,"strong"),i.uc(3,"required"),i.Pb(),i.Pb())}function I(e,t){if(1&e&&(i.Qb(0,"mat-form-field",5),i.Qb(1,"mat-label"),i.uc(2,"Title"),i.Pb(),i.Mb(3,"input",6),i.sc(4,Q,4,0,"mat-error",7),i.sc(5,v,4,0,"mat-error",7),i.Pb()),2&e){const e=i.bc();i.zb(4),i.gc("ngIf",e.form.get("title").hasError("existingCategories")),i.zb(1),i.gc("ngIf",e.form.get("title").hasError("required"))}}function M(e,t){1&e&&(i.Qb(0,"mat-error"),i.uc(1," ID is "),i.Qb(2,"strong"),i.uc(3,"required"),i.Pb(),i.Pb())}function w(e,t){if(1&e&&(i.Qb(0,"mat-form-field",5),i.Qb(1,"mat-label"),i.uc(2,"ID"),i.Pb(),i.Mb(3,"input",8),i.sc(4,M,4,0,"mat-error",7),i.Pb()),2&e){const e=i.bc();i.zb(4),i.gc("ngIf",e.form.get("id").hasError("required"))}}function k(e,t){1&e&&(i.Qb(0,"button",9),i.uc(1,"Create"),i.Pb())}function _(e,t){1&e&&(i.Qb(0,"button",10),i.uc(1,"Delete"),i.Pb())}let E=(()=>{class e{constructor(e){this.formBuilder=e,this.submitForm=new i.n}ngOnInit(){this._initForm()}_initForm(){this.form=this.formBuilder.group(this.deleteMode?{id:["",d.n.required]}:{title:["",d.n.required]})}onSubmit(){this.form.valid&&this.submitForm.emit(this.form.value)}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(d.b))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-modify-categories-form"]],inputs:{deleteMode:"deleteMode"},outputs:{submitForm:"submitForm"},decls:6,vars:5,consts:[[1,"form",3,"formGroup","ngSubmit"],["class","form_full-width",4,"ngIf"],[1,"form_full-width","form_center"],["mat-raised-button","","color","primary","type","submit",4,"ngIf"],["mat-raised-button","","color","warn","type","submit",4,"ngIf"],[1,"form_full-width"],["matInput","","placeholder","Ex. Animal","type","text","formControlName","title","appExistingCategory",""],[4,"ngIf"],["matInput","","placeholder","Ex. 21","type","number","formControlName","id"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","color","warn","type","submit"]],template:function(e,t){1&e&&(i.Qb(0,"form",0),i.Xb("ngSubmit",(function(){return t.onSubmit()})),i.sc(1,I,6,2,"mat-form-field",1),i.sc(2,w,5,1,"mat-form-field",1),i.Qb(3,"div",2),i.sc(4,k,2,0,"button",3),i.sc(5,_,2,0,"button",4),i.Pb(),i.Pb()),2&e&&(i.gc("formGroup",t.form),i.zb(1),i.gc("ngIf",!t.deleteMode),i.zb(1),i.gc("ngIf",t.deleteMode),i.zb(2),i.gc("ngIf",!t.deleteMode),i.zb(1),i.gc("ngIf",t.deleteMode))},directives:[d.o,d.i,d.e,f.k,g.c,g.f,p.a,d.a,d.h,d.d,C,g.b,d.k,u.a],styles:[""]}),e})();function x(e,t){if(1&e&&(i.Qb(0,"mat-error"),i.uc(1),i.Pb()),2&e){const e=i.bc();i.zb(1),i.vc(e.createErrorMessage)}}function F(e,t){if(1&e&&(i.Qb(0,"mat-error",13),i.uc(1),i.Pb()),2&e){const e=i.bc();i.zb(1),i.vc(e.deleteErrorMessage)}}let S=(()=>{class e{constructor(e){this.jokesService=e}onCreateCategory(e){this.jokesService.createCategory(e).subscribe(e=>this.jokesService.openSnackBar(`Your category: ${e.title} was created`,"Close"),e=>this.createErrorMessage=e)}onDeleteCategory(e){this.jokesService.deleteCategory(e).subscribe(()=>this.jokesService.openSnackBar("Category was deleted","Close"),e=>this.deleteErrorMessage=e)}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(c.a))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-modify-categories"]],decls:18,vars:3,consts:[[1,"header_toolbar"],[1,"header_blue"],["mat-raised-button","","color","primary","routerLink","/"],[1,"modify-categories"],[1,"card"],["mat-stretch-tabs",""],["label","Create Category"],[1,"card__container"],[4,"ngIf"],[3,"submitForm"],["label","Delete Category"],["class","form_full-width form_center",4,"ngIf"],[3,"deleteMode","submitForm"],[1,"form_full-width","form_center"]],template:function(e,t){1&e&&(i.Qb(0,"mat-toolbar",0),i.Qb(1,"span"),i.uc(2,"Chuck"),i.Qb(3,"span",1),i.uc(4,"Jokes"),i.Pb(),i.Pb(),i.Qb(5,"button",2),i.uc(6,"Go Back"),i.Pb(),i.Pb(),i.Qb(7,"div",3),i.Qb(8,"mat-card",4),i.Qb(9,"mat-tab-group",5),i.Qb(10,"mat-tab",6),i.Qb(11,"div",7),i.sc(12,x,2,1,"mat-error",8),i.Qb(13,"app-modify-categories-form",9),i.Xb("submitForm",(function(e){return t.onCreateCategory(e)})),i.Pb(),i.Pb(),i.Pb(),i.Qb(14,"mat-tab",10),i.Qb(15,"div",7),i.sc(16,F,2,1,"mat-error",11),i.Qb(17,"app-modify-categories-form",12),i.Xb("submitForm",(function(e){return t.onDeleteCategory(e.id)})),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb()),2&e&&(i.zb(12),i.gc("ngIf",t.createErrorMessage),i.zb(4),i.gc("ngIf",t.deleteErrorMessage),i.zb(1),i.gc("deleteMode",!0))},directives:[b.a,u.a,s.c,m.a,l.b,l.a,f.k,E,g.b],styles:[".card[_ngcontent-%COMP%]{max-width:400px;width:400px}.card__container[_ngcontent-%COMP%]{margin:20px 0}.modify-categories[_ngcontent-%COMP%]{margin-top:100px;display:grid;place-items:center}"]}),e})();var j=r("KJJU");const z=[{path:"",component:S,canActivate:[n.a],data:{roles:[j.a.SUPERADMIN]}}];let q=(()=>{class e{}return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},imports:[[o.a,a,s.e.forChild(z)],s.e]}),e})()}}]);